(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d217907"],{c6ec:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticStyle:{"margin-top":"10px"}},[a("div",{staticStyle:{display:"flex","align-items":"center"}},[a("span",[e._v("选择页面：")]),a("el-select",{staticStyle:{width:"300px"},attrs:{size:"mini"},on:{change:e.changePage},model:{value:e.selectedPage,callback:function(t){e.selectedPage=t},expression:"selectedPage"}},[e._l(e.pages,(function(e,t){return[a("el-option",{key:t,attrs:{value:e.page_name_en,label:e.page_name_cn}})]}))],2),a("el-button",{staticStyle:{"margin-left":"20px"},attrs:{type:"primary",size:"mini"},on:{click:e.savePageChange}},[e._v("保存修改")])],1),a("div",{staticStyle:{display:"flex","justify-content":"space-between","align-items":"flex-start","margin-top":"20px"}},[a("div",{staticStyle:{width:"49%"}},[a("div",{staticStyle:{display:"flex","justify-content":"flex-start"}},[e._v("编辑：")]),a("wysiwyg",{staticStyle:{background:"#ffffff"},model:{value:e.html,callback:function(t){e.html=t},expression:"html"}})],1),a("div",{staticStyle:{width:"49%"}},[a("div",{staticStyle:{display:"flex","justify-content":"flex-start"}},[e._v("预览：")]),a("div",{staticStyle:{padding:"5px",background:"#ffffff"}},[a("div",{domProps:{innerHTML:e._s(e.html)}})])])])])},s=[],i=a("5530"),c=a("2f62"),g=a("f8c8"),l={name:"Pages",data:function(){return{html:"",contestID:0,selectedPage:"topic",pages:[{page_name_en:"proc",page_name_cn:"赛事流程"},{page_name_en:"topic",page_name_cn:"竞赛主题"},{page_name_en:"joinUs",page_name_cn:"欢迎加入"},{page_name_en:"aboutUs",page_name_cn:"关于我们"},{page_name_en:"contactUs",page_name_cn:"联系我们"},{page_name_en:"rewards",page_name_cn:"奖项设置"}]}},mounted:function(){var e=this;this.html=this.unescape(this.config.config.pages[this.selectedPage]),this.axios.get("/contest_id").then((function(t){e.contestID=t.data.contest_id}))},computed:Object(i["a"])({},Object(c["b"])(["config"])),methods:Object(i["a"])(Object(i["a"])({},Object(c["c"])(["updateConfig"])),{},{changePage:function(e){this.selectedPage=e,this.html=this.unescape(this.config.config.pages[this.selectedPage])},savePageChange:function(){var e=this,t=this.config.config;t.pages[this.selectedPage]=this.html;var a={contest_id:this.contestID,config:JSON.stringify(t)};Object(g["t"])(a).then((function(){var a=e.config;a.config=t,e.updateConfig(a),e.$message({type:"success",message:"更新成功"})})).catch((function(t){e.$message({type:"error",message:"更新失败，报错："+t.response.data.msg})}))}})},o=l,p=a("2877"),f=Object(p["a"])(o,n,s,!1,null,"857df4d2",null);t["default"]=f.exports}}]);
//# sourceMappingURL=chunk-2d217907.bb81af14.js.map