(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-1b101daa"],{d5d9:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticStyle:{display:"flex","flex-wrap":"wrap","align-items":"center"}},[a("div",{staticStyle:{display:"flex","align-items":"center"}},[a("span",[e._v("仅已上传图片：")]),a("el-switch",{attrs:{"active-color":"#13ce66"},on:{change:e.previewModeChangeHandler},model:{value:e.isPreviewMode,callback:function(t){e.isPreviewMode=t},expression:"isPreviewMode"}})],1)]),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.tableLoading,expression:"tableLoading"}],staticStyle:{width:"100%",margin:"20px auto"},attrs:{data:e.enrollStatsData,fit:!0}},[a("el-table-column",{attrs:{type:"index",label:"序号",align:"center",fixed:"left"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s((e.page-1)*e.num+t.$index+1)+" ")]}}])}),a("el-table-column",{attrs:{prop:"username",label:"姓名",align:"center",fixed:"left"}}),a("el-table-column",{attrs:{prop:"work_name",label:"作品名称",align:"center",width:"150",fixed:"left"}}),a("el-table-column",{attrs:{prop:"img_num",label:"图纸张数",align:"center",fixed:"left"}}),a("el-table-column",{attrs:{prop:"img_list",label:"图纸预览",align:"center",fixed:""},scopedSlots:e._u([{key:"default",fn:function(t){return[0===t.row.img_list.length?[e._v(" 暂未上传 ")]:[a("el-image",{attrs:{src:t.row.img_list[0],"preview-src-list":t.row.img_list}})]]}}])}),a("el-table-column",{attrs:{prop:"is_enroll_form_uploaded",label:"报名表",align:"center",width:"120",fixed:"left"},scopedSlots:e._u([{key:"default",fn:function(t){return[t.row.is_enroll_form_uploaded?a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(a){return e.download(t,"enroll_form")}}},[e._v("点此下载")]):a("span",[e._v("暂未上传")])]}}])}),a("el-table-column",{attrs:{prop:"is_design_desc_uploaded",label:"设计说明",align:"center",width:"120",fixed:"left"},scopedSlots:e._u([{key:"default",fn:function(t){return[t.row.is_design_desc_uploaded?a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(a){return e.download(t,"design_desc")}}},[e._v("点此下载")]):a("span",[e._v("暂未上传")])]}}])}),a("el-table-column",{attrs:{prop:"sex",label:"性别",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(1===t.row.sex?"男":"女")+" ")]}}])}),a("el-table-column",{attrs:{prop:"edu_bg",label:"学历层次",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(e.eduBG[t.row.edu_bg-1])+" ")]}}])}),a("el-table-column",{attrs:{prop:"univ",label:"学校",align:"center",width:"150"}}),a("el-table-column",{attrs:{prop:"school",label:"学院",align:"center",width:"180"}}),a("el-table-column",{attrs:{prop:"major",label:"专业",align:"center",width:"180"}}),a("el-table-column",{attrs:{prop:"teacher",label:"指导教师",align:"center"}}),a("el-table-column",{attrs:{prop:"teammates",label:"团队成员",align:"center"}}),a("el-table-column",{attrs:{prop:"in_time",label:"入学时间",align:"center"}}),a("el-table-column",{attrs:{prop:"out_time",label:"毕业时间",align:"center"}}),a("el-table-column",{attrs:{prop:"stu_id",label:"学号",align:"center","min-width":"150"}}),a("el-table-column",{attrs:{prop:"phone",label:"电话号码",align:"center","min-width":"150"}}),a("el-table-column",{attrs:{prop:"email",label:"电子邮箱",align:"center","min-width":"180"}}),a("el-table-column",{attrs:{prop:"id_type",label:"证件类型",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(e.IDType[t.row.id_type-1])+" ")]}}])}),a("el-table-column",{attrs:{prop:"id_no",label:"证件号码",align:"center","min-width":"210"}}),a("el-table-column",{attrs:{prop:"msg_source",label:"消息来源",align:"center","min-width":"150"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(e.msgSource[t.row.msg_source-1])+" ")]}}])}),a("el-table-column",{attrs:{fixed:"right",align:"center",label:"操作",width:"200"}})],1),a("div",{staticClass:"pagination"},[a("el-pagination",{attrs:{layout:"total, sizes, prev, pager, next, jumper","current-page":e.page,"page-size":e.num,total:e.total,"page-sizes":[10,20,50]},on:{"update:currentPage":function(t){e.page=t},"update:current-page":function(t){e.page=t},"current-change":e.pageChangeHandler,"size-change":e.sizeChangeHandler,"update:pageSize":function(t){e.num=t},"update:page-size":function(t){e.num=t},"update:total":function(t){e.total=t}}})],1)],1)},l=[],i=(a("159b"),a("fb6a"),a("f8c8")),o={name:"Enroll",data:function(){return{enrollStatsData:[],eduBG:["中职中专","高职高专","本科","硕士","博士","其它"],IDType:["身份证","护照","港澳居民来往内地通行证"],msgSource:["乡村复兴论坛","知识雷锋","其它"],page:1,num:20,total:0,roundIdx:1,isPreviewMode:!1,tableLoading:!1}},mounted:function(){var e,t;this.page=~~(null!==(e=this.$route.query["page"])&&void 0!==e?e:1),this.num=~~(null!==(t=this.$route.query["num"])&&void 0!==t?t:20),this.getData()},methods:{pageChangeHandler:function(e){var t=location.pathname+"?page="+e+"&num="+this.num;history.pushState({url:t,title:document.title},document.title,t),this.page=e,this.getData()},sizeChangeHandler:function(e){var t=location.pathname+"?page="+this.page+"&num="+e;history.pushState({url:t,title:document.title},document.title,t),this.num=e,this.getData()},previewModeChangeHandler:function(){this.getData()},download:function(e,t){console.log(e),window.open("https://ivillages-images.oss-cn-qingdao.aliyuncs.com/1/"+e.row.user_id+"/"+t+".docx")},getData:function(){var e=this;this.tableLoading=!0;var t={page:this.page,num:this.num,is_preview_mode:this.isPreviewMode,round_idx:this.roundIdx};Object(i["e"])(t).then((function(t){var a=t.data.data;a.forEach((function(e){e.img_list.length>0&&e.img_list.forEach((function(t,a){e.img_list[a]=t.slice(0,t.lastIndexOf("."))+"_compressed"+t.slice(t.lastIndexOf("."),t.length)}))})),e.enrollStatsData=a,e.tableLoading=!1,e.total=t.data.total}))}}},r=o,s=a("2877"),u=Object(s["a"])(r,n,l,!1,null,"21f4f6ee",null);t["default"]=u.exports},fb6a:function(e,t,a){"use strict";var n=a("23e7"),l=a("861d"),i=a("e8b5"),o=a("23cb"),r=a("50c4"),s=a("fc6a"),u=a("8418"),c=a("b622"),d=a("1dde"),p=d("slice"),g=c("species"),m=[].slice,f=Math.max;n({target:"Array",proto:!0,forced:!p},{slice:function(e,t){var a,n,c,d=s(this),p=r(d.length),b=o(e,p),h=o(void 0===t?p:t,p);if(i(d)&&(a=d.constructor,"function"!=typeof a||a!==Array&&!i(a.prototype)?l(a)&&(a=a[g],null===a&&(a=void 0)):a=void 0,a===Array||void 0===a))return m.call(d,b,h);for(n=new(void 0===a?Array:a)(f(h-b,0)),c=0;b<h;b++,c++)b in d&&u(n,c,d[b]);return n.length=c,n}})}}]);
//# sourceMappingURL=chunk-1b101daa.ebaa596a.js.map