{"version":3,"sources":["webpack:///./src/components/config/system/Pages.vue?67d7","webpack:///src/components/config/system/Pages.vue","webpack:///./src/components/config/system/Pages.vue?1bc2","webpack:///./src/components/config/system/Pages.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticStyle","_v","attrs","on","changePage","model","value","callback","$$v","selectedPage","expression","_l","item","idx","key","page_name_en","page_name_cn","savePageChange","html","domProps","_s","staticRenderFns","name","data","contestID","pages","mounted","unescape","config","axios","get","then","computed","methods","val","contest_id","JSON","stringify","c","type","message","err","response","msg","component"],"mappings":"uHAAA,IAAIA,EAAS,WAAa,IAAIC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACE,YAAY,CAAC,aAAa,SAAS,CAACF,EAAG,MAAM,CAACE,YAAY,CAAC,QAAU,OAAO,cAAc,WAAW,CAACF,EAAG,OAAO,CAACJ,EAAIO,GAAG,WAAWH,EAAG,YAAY,CAACE,YAAY,CAAC,MAAQ,SAASE,MAAM,CAAC,KAAO,QAAQC,GAAG,CAAC,OAAST,EAAIU,YAAYC,MAAM,CAACC,MAAOZ,EAAgB,aAAEa,SAAS,SAAUC,GAAMd,EAAIe,aAAaD,GAAKE,WAAW,iBAAiB,CAAChB,EAAIiB,GAAIjB,EAAS,OAAE,SAASkB,EAAKC,GAAK,MAAO,CAACf,EAAG,YAAY,CAACgB,IAAID,EAAIX,MAAM,CAAC,MAAQU,EAAKG,aAAa,MAAQH,EAAKI,qBAAoB,GAAGlB,EAAG,YAAY,CAACE,YAAY,CAAC,cAAc,QAAQE,MAAM,CAAC,KAAO,UAAU,KAAO,QAAQC,GAAG,CAAC,MAAQT,EAAIuB,iBAAiB,CAACvB,EAAIO,GAAG,WAAW,GAAGH,EAAG,MAAM,CAACE,YAAY,CAAC,QAAU,OAAO,kBAAkB,gBAAgB,cAAc,aAAa,aAAa,SAAS,CAACF,EAAG,MAAM,CAACE,YAAY,CAAC,MAAQ,QAAQ,CAACF,EAAG,MAAM,CAACE,YAAY,CAAC,QAAU,OAAO,kBAAkB,eAAe,CAACN,EAAIO,GAAG,SAASH,EAAG,UAAU,CAACE,YAAY,CAAC,WAAa,WAAWK,MAAM,CAACC,MAAOZ,EAAQ,KAAEa,SAAS,SAAUC,GAAMd,EAAIwB,KAAKV,GAAKE,WAAW,WAAW,GAAGZ,EAAG,MAAM,CAACE,YAAY,CAAC,MAAQ,QAAQ,CAACF,EAAG,MAAM,CAACE,YAAY,CAAC,QAAU,OAAO,kBAAkB,eAAe,CAACN,EAAIO,GAAG,SAASH,EAAG,MAAM,CAACE,YAAY,CAAC,QAAU,MAAM,WAAa,YAAY,CAACF,EAAG,MAAM,CAACqB,SAAS,CAAC,UAAYzB,EAAI0B,GAAG1B,EAAIwB,kBACz0CG,EAAkB,G,oCC6BtB,GACEC,KAAM,QACNC,KAFF,WAGI,MAAO,CACLL,KAAM,GACNM,UAAW,EACXf,aAAc,QACdgB,MAAO,CAAC,CACNV,aAAc,OACdC,aAAc,QACtB,CACQD,aAAc,QACdC,aAAc,QACtB,CACQD,aAAc,SACdC,aAAc,QACtB,CACQD,aAAc,UACdC,aAAc,QACtB,CACQD,aAAc,YACdC,aAAc,QACtB,CACQD,aAAc,UACdC,aAAc,WAIpBU,QA5BF,WA4BA,WACI/B,KAAKuB,KAAOvB,KAAKgC,SAAShC,KAAKiC,OAAOA,OAAOH,MAAM9B,KAAKc,eACxDd,KAAKkC,MAAMC,IAAI,eAAeC,MAAK,SAAvC,GACM,EAAN,gCAGEC,SAAU,OAAZ,OAAY,CAAZ,GACA,gBACA,YAGEC,QAAS,OAAX,OAAW,CAAX,kBACA,gBACA,kBAFA,IAII7B,WAJJ,SAIA,GACMT,KAAKc,aAAeyB,EACpBvC,KAAKuB,KAAOvB,KAAKgC,SAAShC,KAAKiC,OAAOA,OAAOH,MAAM9B,KAAKc,gBAE1DQ,eARJ,WAQA,WACA,qBACMW,EAAOH,MAAM9B,KAAKc,cAAgBd,KAAKuB,KACvC,IAAN,GACQiB,WAAYxC,KAAK6B,UACjBI,OAAQQ,KAAKC,UAAUT,IAEzB,OAAN,OAAM,CAAN,oBACQ,IAAR,WACQU,EAAEV,OAASA,EACX,EAAR,gBACQ,EAAR,UACUW,KAAM,UACNC,QAAS,YAEnB,mBACQ,EAAR,UACUD,KAAM,QACNC,QAAS,WAAaC,EAAIC,SAASnB,KAAKoB,aC/F2T,I,YCOzWC,EAAY,eACd,EACAnD,EACA4B,GACA,EACA,KACA,WACA,MAIa,aAAAuB,E","file":"js/chunk-2d217907.bb81af14.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticStyle:{\"margin-top\":\"10px\"}},[_c('div',{staticStyle:{\"display\":\"flex\",\"align-items\":\"center\"}},[_c('span',[_vm._v(\"选择页面：\")]),_c('el-select',{staticStyle:{\"width\":\"300px\"},attrs:{\"size\":\"mini\"},on:{\"change\":_vm.changePage},model:{value:(_vm.selectedPage),callback:function ($$v) {_vm.selectedPage=$$v},expression:\"selectedPage\"}},[_vm._l((_vm.pages),function(item,idx){return [_c('el-option',{key:idx,attrs:{\"value\":item.page_name_en,\"label\":item.page_name_cn}})]})],2),_c('el-button',{staticStyle:{\"margin-left\":\"20px\"},attrs:{\"type\":\"primary\",\"size\":\"mini\"},on:{\"click\":_vm.savePageChange}},[_vm._v(\"保存修改\")])],1),_c('div',{staticStyle:{\"display\":\"flex\",\"justify-content\":\"space-between\",\"align-items\":\"flex-start\",\"margin-top\":\"20px\"}},[_c('div',{staticStyle:{\"width\":\"49%\"}},[_c('div',{staticStyle:{\"display\":\"flex\",\"justify-content\":\"flex-start\"}},[_vm._v(\"编辑：\")]),_c('wysiwyg',{staticStyle:{\"background\":\"#ffffff\"},model:{value:(_vm.html),callback:function ($$v) {_vm.html=$$v},expression:\"html\"}})],1),_c('div',{staticStyle:{\"width\":\"49%\"}},[_c('div',{staticStyle:{\"display\":\"flex\",\"justify-content\":\"flex-start\"}},[_vm._v(\"预览：\")]),_c('div',{staticStyle:{\"padding\":\"5px\",\"background\":\"#ffffff\"}},[_c('div',{domProps:{\"innerHTML\":_vm._s(_vm.html)}})])])])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div style=\"margin-top: 10px;\">\n    <div style=\"display: flex; align-items: center;\">\n      <span>选择页面：</span>\n      <el-select v-model=\"selectedPage\" size=\"mini\" style=\"width: 300px\" @change=\"changePage\">\n        <template v-for=\"(item, idx) in pages\">\n          <el-option :value=\"item.page_name_en\" :label=\"item.page_name_cn\" v-bind:key=\"idx\"></el-option>\n        </template>\n      </el-select>\n      <el-button type=\"primary\" size=\"mini\" style=\"margin-left: 20px;\" @click=\"savePageChange\">保存修改</el-button>\n    </div>\n    <div style=\"display: flex; justify-content: space-between; align-items: flex-start; margin-top: 20px;\">\n      <div style=\"width: 49%\">\n        <div style=\"display: flex; justify-content: flex-start;\">编辑：</div>\n        <wysiwyg v-model=\"html\" style=\"background: #ffffff; \"></wysiwyg>\n      </div>\n      <div style=\"width: 49%;\">\n        <div style=\"display: flex; justify-content: flex-start;\">预览：</div>\n        <div style=\"padding: 5px; background: #ffffff;\">\n          <div v-html=\"html\"></div>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport {mapGetters, mapMutations} from \"vuex\";\nimport {updateContest} from \"../../../apis\";\n\nexport default {\n  name: \"Pages\",\n  data () {\n    return {\n      html: \"\",\n      contestID: 0,\n      selectedPage: \"topic\",\n      pages: [{\n        page_name_en: \"proc\",\n        page_name_cn: \"赛事流程\"\n      }, {\n        page_name_en: \"topic\",\n        page_name_cn: \"竞赛主题\"\n      }, {\n        page_name_en: \"joinUs\",\n        page_name_cn: \"欢迎加入\"\n      }, {\n        page_name_en: \"aboutUs\",\n        page_name_cn: \"关于我们\"\n      }, {\n        page_name_en: \"contactUs\",\n        page_name_cn: \"联系我们\"\n      }, {\n        page_name_en: \"rewards\",\n        page_name_cn: \"奖项设置\"\n      }],\n    }\n  },\n  mounted() {\n    this.html = this.unescape(this.config.config.pages[this.selectedPage])\n    this.axios.get(\"/contest_id\").then(res => {\n      this.contestID = res.data.contest_id\n    })\n  },\n  computed: {\n    ...mapGetters([\n        \"config\"\n    ]),\n  },\n  methods: {\n    ...mapMutations([\n        \"updateConfig\"\n    ]),\n    changePage (val) {\n      this.selectedPage = val\n      this.html = this.unescape(this.config.config.pages[this.selectedPage])\n    },\n    savePageChange () {\n      let config = this.config.config\n      config.pages[this.selectedPage] = this.html\n      let data = {\n        contest_id: this.contestID,\n        config: JSON.stringify(config)\n      }\n      updateContest(data).then(() => {\n        let c = this.config\n        c.config = config\n        this.updateConfig(c)\n        this.$message({\n          type: \"success\",\n          message: \"更新成功\",\n        })\n      }).catch(err => {\n        this.$message({\n          type: \"error\",\n          message: \"更新失败，报错：\" + err.response.data.msg\n        })\n      })\n    }\n  }\n}\n</script>\n\n<style scoped>\n\n</style>","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Pages.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Pages.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Pages.vue?vue&type=template&id=857df4d2&scoped=true&\"\nimport script from \"./Pages.vue?vue&type=script&lang=js&\"\nexport * from \"./Pages.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"857df4d2\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}