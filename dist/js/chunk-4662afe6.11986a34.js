(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-4662afe6"],{"31c2":function(e,s,i){},a434:function(e,s,i){"use strict";var t=i("23e7"),n=i("23cb"),a=i("a691"),o=i("50c4"),r=i("7b0b"),c=i("65f0"),l=i("8418"),p=i("1dde"),u=p("splice"),d=Math.max,m=Math.min,g=9007199254740991,f="Maximum allowed length exceeded";t({target:"Array",proto:!0,forced:!u},{splice:function(e,s){var i,t,p,u,y,h,b=r(this),v=o(b.length),x=n(e,v),k=arguments.length;if(0===k?i=t=0:1===k?(i=0,t=v-x):(i=k-2,t=m(d(a(s),0),v-x)),v+i-t>g)throw TypeError(f);for(p=c(b,t),u=0;u<t;u++)y=x+u,y in b&&l(p,u,b[y]);if(p.length=t,i<t){for(u=x;u<v-t;u++)y=u+t,h=u+i,y in b?b[h]=b[y]:delete b[h];for(u=v;u>v-t+i;u--)delete b[u-1]}else if(i>t)for(u=v-t;u>x;u--)y=u+t-1,h=u+i-1,y in b?b[h]=b[y]:delete b[h];for(u=0;u<i;u++)b[u+x]=arguments[u+2];return b.length=v-t+i,p}})},c740:function(e,s,i){"use strict";var t=i("23e7"),n=i("b727").findIndex,a=i("44d2"),o="findIndex",r=!0;o in[]&&Array(1)[o]((function(){r=!1})),t({target:"Array",proto:!0,forced:r},{findIndex:function(e){return n(this,e,arguments.length>1?arguments[1]:void 0)}}),a(o)},db2e:function(e,s,i){"use strict";i.r(s);var t=function(){var e=this,s=e.$createElement,i=e._self._c||s;return i("div",{staticStyle:{"margin-top":"10px"}},[i("div",{staticStyle:{display:"flex","align-items":"center"}},[i("span",[e._v("当前开放竞赛：")]),i("el-select",{staticStyle:{width:"300px"},attrs:{size:"mini",loading:e.contestSelectorLoading},on:{change:e.openContest},model:{value:e.contestID,callback:function(s){e.contestID=s},expression:"contestID"}},[e._l(e.contests,(function(e,s){return[i("el-option",{key:s,attrs:{value:e.contest_id,label:e.contest_name}})]}))],2),i("el-button",{staticStyle:{"margin-left":"20px"},attrs:{type:"danger",size:"mini"},on:{click:e.deleteContest}},[e._v("删除此竞赛")]),i("el-button",{staticStyle:{"margin-left":"60px"},attrs:{type:"primary",size:"mini"},on:{click:e.createContest}},[e._v("添加竞赛")])],1),i("fieldset",[i("legend",[e._v("竞赛设置")]),i("fieldset",[i("legend",[e._v("通用设置")]),i("div",[i("el-form",{attrs:{"label-position":"left"}},[i("el-form-item",{attrs:{label:"竞赛名称"}},[i("el-input",{attrs:{size:"mini"},on:{change:e.updateContestName},model:{value:e.contestName,callback:function(s){e.contestName=s},expression:"contestName"}})],1),i("el-form-item",{attrs:{label:"背景图片："}},[i("el-input",{attrs:{size:"mini"},on:{change:function(s){return e.updateImgUrl(s,1)}},model:{value:e.conf.common.bgImg,callback:function(s){e.$set(e.conf.common,"bgImg",s)},expression:"conf.common.bgImg"}},[i("template",{slot:"suffix"},[i("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(s){return e.chooseImg(1)}}},[e._v("选择上传")])],1)],2)],1),i("el-form-item",{attrs:{label:"logo图片："}},[i("el-input",{attrs:{size:"mini"},on:{change:function(s){return e.updateImgUrl(s,2)}},model:{value:e.conf.common.logoImg,callback:function(s){e.$set(e.conf.common,"logoImg",s)},expression:"conf.common.logoImg"}},[i("template",{slot:"suffix"},[i("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(s){return e.chooseImg(2)}}},[e._v("选择上传")])],1)],2)],1)],1)],1)]),i("fieldset",[i("legend",[e._v("时间设置")]),i("el-form",{attrs:{inline:""}},[i("el-form-item",{attrs:{label:"报名系统截止时间："}},[i("el-date-picker",{attrs:{type:"datetime","value-format":"yyyy-MM-dd HH:mm:ss",size:"mini",placeholder:"选择截止时间"},on:{change:function(s){return e.updateTimestamp(1)}},model:{value:e.registryEndDatetime,callback:function(s){e.registryEndDatetime=s},expression:"registryEndDatetime"}})],1),i("el-form-item",{attrs:{label:"上传作品开放时间："}},[i("el-date-picker",{attrs:{type:"datetime","value-format":"yyyy-MM-dd HH:mm:ss",size:"mini",placeholder:"选择截止时间"},on:{change:function(s){return e.updateTimestamp(2)}},model:{value:e.uploadBeginDatetime,callback:function(s){e.uploadBeginDatetime=s},expression:"uploadBeginDatetime"}})],1),i("el-form-item",{attrs:{label:"上传作品截止时间："}},[i("el-date-picker",{attrs:{type:"datetime","value-format":"yyyy-MM-dd HH:mm:ss",size:"mini",placeholder:"选择截止时间"},on:{change:function(s){return e.updateTimestamp(3)}},model:{value:e.uploadEndDatetime,callback:function(s){e.uploadEndDatetime=s},expression:"uploadEndDatetime"}})],1)],1)],1),i("fieldset",[i("legend",[e._v("上传设置")]),i("el-form",{attrs:{inline:""}},[i("el-form-item",{attrs:{label:"文件大小限制："}},[i("el-input",{attrs:{size:"mini"},on:{change:e.updateMaxFileSize},model:{value:e.maxFileSize,callback:function(s){e.maxFileSize=s},expression:"maxFileSize"}},[i("el-select",{staticStyle:{width:"100px"},attrs:{slot:"append",size:"mini",placeholder:"请选择"},slot:"append",model:{value:e.unit,callback:function(s){e.unit=s},expression:"unit"}},[e._l(e.units,(function(e,s){return[i("el-option",{key:s,attrs:{value:s,label:e}})]}))],2)],1)],1),i("el-form-item",{attrs:{label:"图纸数量限制："}},[i("el-input-number",{attrs:{size:"mini","controls-position":"right",precision:0,step:1},on:{change:e.updateMaxImageNum},model:{value:e.maxImageNum,callback:function(s){e.maxImageNum=s},expression:"maxImageNum"}})],1),i("el-form-item",{attrs:{label:"赛点："}},[i("el-input",{attrs:{size:"mini"},model:{value:e.newWorkGroup,callback:function(s){e.newWorkGroup=s},expression:"newWorkGroup"}},[i("el-select",{staticStyle:{width:"200px"},attrs:{slot:"prepend",size:"mini",placeholder:"在右边增加赛点"},slot:"prepend",model:{value:e.workGroup,callback:function(s){e.workGroup=s},expression:"workGroup"}},[e._l(e.workGroups,(function(s,t){return[i("el-option",{key:t+"workgroups",attrs:{value:t,label:s}},[i("span",{staticStyle:{float:"left"}},[e._v(e._s(s))]),i("span",{staticStyle:{float:"right",color:"#8492a6","font-size":"13px"}},[i("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(s){return e.delWorkGroup(t)}}},[e._v("删除")])],1)])]}))],2),i("el-button",{staticStyle:{width:"100px"},attrs:{slot:"append",size:"mini",type:"primary"},on:{click:e.addWorkGroup},slot:"append"},[e._v("添加赛点")])],1)],1)],1)],1),i("fieldset",[i("legend",[e._v("注册设置")]),i("div",{},[i("el-checkbox",{attrs:{border:""},on:{change:function(s){return e.infoChange(s,"name")}},model:{value:e.signUpRes.name.display,callback:function(s){e.$set(e.signUpRes.name,"display",s)},expression:"signUpRes.name.display"}},[e._v(" 姓名   "),i("el-checkbox",{on:{change:function(s){return e.requiredChange(s,"name")}},model:{value:e.signUpRes.name.required,callback:function(s){e.$set(e.signUpRes.name,"required",s)},expression:"signUpRes.name.required"}},[e._v("是否必填")])],1),i("el-checkbox",{attrs:{border:""},model:{value:e.signUpRes.sex.display,callback:function(s){e.$set(e.signUpRes.sex,"display",s)},expression:"signUpRes.sex.display"}},[e._v(" 性别   "),i("el-checkbox",{model:{value:e.signUpRes.sex.required,callback:function(s){e.$set(e.signUpRes.sex,"required",s)},expression:"signUpRes.sex.required"}},[e._v("是否必填")])],1),i("el-checkbox",{attrs:{border:""},model:{value:e.signUpRes.age.display,callback:function(s){e.$set(e.signUpRes.age,"display",s)},expression:"signUpRes.age.display"}},[e._v(" 年龄   "),i("el-checkbox",{model:{value:e.signUpRes.age.required,callback:function(s){e.$set(e.signUpRes.age,"required",s)},expression:"signUpRes.age.required"}},[e._v("是否必填")])],1),i("el-checkbox",{attrs:{border:""},model:{value:e.signUpRes.job.display,callback:function(s){e.$set(e.signUpRes.job,"display",s)},expression:"signUpRes.job.display"}},[e._v(" 职位   "),i("el-checkbox",{model:{value:e.signUpRes.job.required,callback:function(s){e.$set(e.signUpRes.job,"required",s)},expression:"signUpRes.job.required"}},[e._v("是否必填")])],1),i("el-checkbox",{attrs:{border:""},model:{value:e.signUpRes.org.display,callback:function(s){e.$set(e.signUpRes.org,"display",s)},expression:"signUpRes.org.display"}},[e._v(" 单位名称   "),i("el-checkbox",{model:{value:e.signUpRes.org.required,callback:function(s){e.$set(e.signUpRes.org,"required",s)},expression:"signUpRes.org.required"}},[e._v("是否必填")])],1),i("el-checkbox",{attrs:{border:""},model:{value:e.signUpRes.eduBG.display,callback:function(s){e.$set(e.signUpRes.eduBG,"display",s)},expression:"signUpRes.eduBG.display"}},[e._v(" 学历层次   "),i("el-checkbox",{model:{value:e.signUpRes.eduBG.required,callback:function(s){e.$set(e.signUpRes.eduBG,"required",s)},expression:"signUpRes.eduBG.required"}},[e._v("是否必填")])],1),i("el-checkbox",{attrs:{border:""},model:{value:e.signUpRes.univ.display,callback:function(s){e.$set(e.signUpRes.univ,"display",s)},expression:"signUpRes.univ.display"}},[e._v(" 学校   "),i("el-checkbox",{model:{value:e.signUpRes.univ.required,callback:function(s){e.$set(e.signUpRes.univ,"required",s)},expression:"signUpRes.univ.required"}},[e._v("是否必填")])],1),i("el-checkbox",{attrs:{border:""},model:{value:e.signUpRes.school.display,callback:function(s){e.$set(e.signUpRes.school,"display",s)},expression:"signUpRes.school.display"}},[e._v(" 学院   "),i("el-checkbox",{model:{value:e.signUpRes.school.required,callback:function(s){e.$set(e.signUpRes.school,"required",s)},expression:"signUpRes.school.required"}},[e._v("是否必填")])],1),i("el-checkbox",{attrs:{border:""},model:{value:e.signUpRes.major.display,callback:function(s){e.$set(e.signUpRes.major,"display",s)},expression:"signUpRes.major.display"}},[e._v(" 专业   "),i("el-checkbox",{model:{value:e.signUpRes.major.required,callback:function(s){e.$set(e.signUpRes.major,"required",s)},expression:"signUpRes.major.required"}},[e._v("是否必填")])],1),i("el-checkbox",{attrs:{border:""},model:{value:e.signUpRes.stuID.display,callback:function(s){e.$set(e.signUpRes.stuID,"display",s)},expression:"signUpRes.stuID.display"}},[e._v(" 学号   "),i("el-checkbox",{model:{value:e.signUpRes.stuID.required,callback:function(s){e.$set(e.signUpRes.stuID,"required",s)},expression:"signUpRes.stuID.required"}},[e._v("是否必填")])],1),i("el-checkbox",{attrs:{border:""},model:{value:e.signUpRes.teacher.display,callback:function(s){e.$set(e.signUpRes.teacher,"display",s)},expression:"signUpRes.teacher.display"}},[e._v(" 指导老师   "),i("el-checkbox",{model:{value:e.signUpRes.teacher.required,callback:function(s){e.$set(e.signUpRes.teacher,"required",s)},expression:"signUpRes.teacher.required"}},[e._v("是否必填")])],1),i("el-checkbox",{attrs:{border:""},model:{value:e.signUpRes.msgSrc.display,callback:function(s){e.$set(e.signUpRes.msgSrc,"display",s)},expression:"signUpRes.msgSrc.display"}},[e._v(" 信息来源   "),i("el-checkbox",{model:{value:e.signUpRes.msgSrc.required,callback:function(s){e.$set(e.signUpRes.msgSrc,"required",s)},expression:"signUpRes.msgSrc.required"}},[e._v("是否必填")])],1),i("el-checkbox",{attrs:{border:""},model:{value:e.signUpRes.teammate.display,callback:function(s){e.$set(e.signUpRes.teammate,"display",s)},expression:"signUpRes.teammate.display"}},[e._v(" 团队成员   "),i("el-checkbox",{model:{value:e.signUpRes.teammate.required,callback:function(s){e.$set(e.signUpRes.teammate,"required",s)},expression:"signUpRes.teammate.required"}},[e._v("是否必填")])],1),i("el-checkbox",{attrs:{border:""},model:{value:e.signUpRes.inTime.display,callback:function(s){e.$set(e.signUpRes.inTime,"display",s)},expression:"signUpRes.inTime.display"}},[e._v(" 入学时间   "),i("el-checkbox",{model:{value:e.signUpRes.inTime.required,callback:function(s){e.$set(e.signUpRes.inTime,"required",s)},expression:"signUpRes.inTime.required"}},[e._v("是否必填")])],1),i("el-checkbox",{attrs:{border:""},model:{value:e.signUpRes.outTime.display,callback:function(s){e.$set(e.signUpRes.outTime,"display",s)},expression:"signUpRes.outTime.display"}},[e._v(" 毕业时间   "),i("el-checkbox",{model:{value:e.signUpRes.outTime.required,callback:function(s){e.$set(e.signUpRes.outTime,"required",s)},expression:"signUpRes.outTime.required"}},[e._v("是否必填")])],1),i("el-checkbox",{attrs:{border:""},model:{value:e.signUpRes.ID.display,callback:function(s){e.$set(e.signUpRes.ID,"display",s)},expression:"signUpRes.ID.display"}},[e._v(" 证件类型   "),i("el-checkbox",{model:{value:e.signUpRes.ID.required,callback:function(s){e.$set(e.signUpRes.ID,"required",s)},expression:"signUpRes.ID.required"}},[e._v("是否必填")])],1),i("el-checkbox",{attrs:{border:""},model:{value:e.signUpRes.IDNo.display,callback:function(s){e.$set(e.signUpRes.IDNo,"display",s)},expression:"signUpRes.IDNo.display"}},[e._v(" 证件号码   "),i("el-checkbox",{model:{value:e.signUpRes.IDNo.required,callback:function(s){e.$set(e.signUpRes.IDNo,"required",s)},expression:"signUpRes.IDNo.required"}},[e._v("是否必填")])],1),i("el-checkbox",{attrs:{border:""},model:{value:e.signUpRes.email.display,callback:function(s){e.$set(e.signUpRes.email,"display",s)},expression:"signUpRes.email.display"}},[e._v(" 电子邮箱   "),i("el-checkbox",{model:{value:e.signUpRes.email.required,callback:function(s){e.$set(e.signUpRes.email,"required",s)},expression:"signUpRes.email.required"}},[e._v("是否必填")])],1)],1),i("el-button",{attrs:{type:"primary",size:"mini"},on:{click:e.infoSubmit}},[e._v("提交")])],1)]),i("input",{staticStyle:{display:"none"},attrs:{id:"file1",type:"file",accept:"image/png, image/jpeg"},on:{change:function(s){return e.updateImg(1)}}}),i("input",{staticStyle:{display:"none"},attrs:{id:"file2",type:"file",accept:"image/png, image/jpeg"},on:{change:function(s){return e.updateImg(2)}}})])},n=[],a=i("5530"),o=(i("159b"),i("a434"),i("c740"),i("fb6a"),i("b0c0"),i("2f62")),r=i("f8c8"),c={name:"General",data:function(){return{contestSelectorLoading:!1,contests:[],conf:{pages:{proc:"",topic:"",joinUs:"",aboutUs:"",rewards:"",contactUs:""},common:{bgImg:"",logoImg:"",themeColor:{deep:"",light:"",deepest:"",lightest:""}},system:{uploadEndTimestamp:0,registryEndTimestamp:0,uploadBeginTimestamp:0},signUpRes:{name:{display:!1,required:!1},sex:{display:!1,required:!1},age:{display:!1,required:!1},org:{display:!1,required:!1},job:{display:!1,required:!1},eduBG:{display:!1,required:!1},univ:{display:!1,required:!1},school:{display:!1,required:!1},major:{display:!1,required:!1},stuID:{display:!1,required:!1},teacher:{display:!1,required:!1},msgSrc:{display:!1,required:!1},teammate:{display:!1,required:!1},inTime:{display:!1,required:!1},outTime:{display:!1,required:!1},ID:{display:!1,required:!1},IDNo:{display:!1,required:!1},email:{display:!1,required:!1}},uploadRes:{workGroups:[],maxFileSize:0,maxImageNum:0},enableMarking:!1},maxFileSize:0,maxImageNum:0,unit:0,units:["Bytes","KiB","MiB","GiB"],contestName:"",contestID:0,registryEndDatetime:"",uploadBeginDatetime:"",uploadEndDatetime:"",workGroups:[],workGroup:0,newWorkGroup:"",signUpRes:{name:{display:!1,required:!1},sex:{display:!1,required:!1},age:{display:!1,required:!1},org:{display:!1,required:!1},job:{display:!1,required:!1},eduBG:{display:!1,required:!1},univ:{display:!1,required:!1},school:{display:!1,required:!1},major:{display:!1,required:!1},stuID:{display:!1,required:!1},teacher:{display:!1,required:!1},msgSrc:{display:!1,required:!1},teammate:{display:!1,required:!1},inTime:{display:!1,required:!1},outTime:{display:!1,required:!1},ID:{display:!1,required:!1},IDNo:{display:!1,required:!1},email:{display:!1,required:!1}}}},computed:Object(a["a"])({},Object(o["b"])(["config"])),mounted:function(){this.mount()},methods:Object(a["a"])(Object(a["a"])({mount:function(){var e=this;this.contestSelectorLoading=!0,Object(r["h"])().then((function(s){var i=s.data;i.forEach((function(s){s.is_open&&(e.contestID=s.contest_id)})),e.contests=i,e.conf=e.config.config,e.contestName=e.config.contestName,e.contestSelectorLoading=!1,e.signUpRes=e.conf.signUpRes,e.updateDatetimes();var t=e.config.config.uploadRes.maxFileSize,n=0;while(t)t>>=10,n++;e.unit=n-1,e.maxFileSize=e.config.config.uploadRes.maxFileSize>>10*(n-1),e.maxImageNum=e.config.config.uploadRes.maxImageNum,e.workGroups=e.config.config.uploadRes.workGroups,console.log(e.conf)}))},infoChange:function(e,s){this.signUpRes[s].display=e},requiredChange:function(e,s){this.signUpRes[s].required=e},infoSubmit:function(){var e=this,s=this.config.config;s.signUpRes=this.signUpRes,console.log(this.signUpRes);var i={contest_id:this.contestID,config:JSON.stringify(s)};Object(r["t"])(i).then((function(){e.$message({type:"success",message:"更新成功"});var i=e.config;i.config=s,e.updateConfig(i)})).catch((function(s){e.$message({type:"error",message:"更新失败，报错："+s.response.data.msg})}))},deleteContest:function(){var e=this;this.$confirm("即将删除当前竞赛，此操作不可逆，确认？",{confirmButtonText:"确认",cancelButtonText:"取消"}).then((function(){var s={contest_id:e.contestID};Object(r["d"])(s).then((function(){e.$message({type:"success",message:"删除成功"}),e.contests.splice(e.contests.findIndex((function(s){return s.contest_id===e.contestID})),1),e.contestID=e.contests[e.contests.length-1].contest_id,e.openContest(e.contestID)})).catch((function(s){e.$message({type:"error",message:"删除失败，原因："+s.response.data.msg})}))})).catch((function(){e.$message({type:"info",message:"已取消"})}))},createContest:function(){var e=this,s={pages:{proc:"",topic:"",joinUs:"",aboutUs:"",rewards:"",contactUs:""},common:{bgImg:"",logoImg:"",themeColor:{deep:"",light:"",deepest:"",lightest:""}},system:{uploadEndTimestamp:0,registryEndTimestamp:0,uploadBeginTimestamp:0},signUpRes:{name:{display:!1,required:!1},sex:{display:!1,required:!1},age:{display:!1,required:!1},org:{display:!1,required:!1},job:{display:!1,required:!1},eduBG:{display:!1,required:!1},univ:{display:!1,required:!1},school:{display:!1,required:!1},major:{display:!1,required:!1},stuID:{display:!1,required:!1},teacher:{display:!1,required:!1},msgSrc:{display:!1,required:!1},teammate:{display:!1,required:!1},inTime:{display:!1,required:!1},outTime:{display:!1,required:!1},ID:{display:!1,required:!1},IDNo:{display:!1,required:!1},email:{display:!1,required:!1}},uploadRes:{workGroups:[],maxFileSize:0,maxImageNum:0},enableMarking:!1},i={config:JSON.stringify(s)};Object(r["a"])(i).then((function(){e.$message({type:"success",message:"添加成功"}),e.mount()})).catch((function(s){e.$message({type:"error",message:"添加失败，原因："+s.response.data.msg})}))},delWorkGroup:function(e){var s=this,i=this.config.config;i.uploadRes.workGroups.splice(e,1);var t={contest_id:this.contestID,config:JSON.stringify(i)};Object(r["t"])(t).then((function(){s.$message({type:"success",message:"删除成功"});var t=s.config;t.config=i,s.updateConfig(t),s.workGroups.splice(e,1)})).catch((function(e){s.$message({type:"error",message:"删除失败，报错："+e.response.data.msg})}))},addWorkGroup:function(){var e=this,s=this.config.config;s.uploadRes.workGroups.push(this.newWorkGroup);var i={contest_id:this.contestID,config:JSON.stringify(s)};Object(r["t"])(i).then((function(){e.$message({type:"success",message:"添加成功"});var i=e.config;i.config=s,e.updateConfig(s),e.workGroups.push(e.newWorkGroup),e.newWorkGroup=""})).catch((function(s){e.$message({type:"error",message:"添加失败，报错："+s.response.data.msg}),e.newWorkGroup=""}))}},Object(o["c"])(["updateConfig"])),{},{updateDatetimes:function(){this.registryEndDatetime=this.formatDatetime(this.config.config.system.registryEndTimestamp),this.uploadBeginDatetime=this.formatDatetime(this.config.config.system.uploadBeginTimestamp),this.uploadEndDatetime=this.formatDatetime(this.config.config.system.uploadEndTimestamp)},formatDatetime:function(e){if(!e)return"";var s=new Date(1e3*e),i=function(e){return e<10?"0"+e:e},t=s.getFullYear(),n=i(s.getMonth()+1),a=i(s.getDate()),o=i(s.getHours()),r=i(s.getMinutes()),c=i(s.getSeconds());return t+"-"+n+"-"+a+" "+o+":"+r+":"+c},chooseImg:function(e){var s=document.querySelector("#file"+e);s.click()},updateImg:function(e){var s=this,i=new FormData,t=document.querySelector("#file"+e),n=t.files[0];i.append("image",n),i.append("suffix",n.name.slice(n.name.lastIndexOf("."))),Object(r["w"])(i).then((function(i){var t=s.config.config;1===e?t.common.bgImg=i.data.url:t.common.logoImg=i.data.url;var n={contest_id:s.contestID,config:JSON.stringify(t)};Object(r["t"])(n).then((function(){var e=s.config;e.config=t,s.updateConfig(e),s.$message({type:"success",message:"上传成功"})})).catch((function(e){s.$message({type:"error",message:"上传失败，报错："+e.response.data.msg})}))})).catch((function(e){s.$message({type:"error",message:"上传失败，报错："+e.response.data.msg})}))},updateImgUrl:function(e,s){var i=this,t=this.config.config;1===s?t.common.bgImg=e:t.common.logoImg=e;var n={contest_id:this.contestID,config:JSON.stringify(t)};Object(r["t"])(n).then((function(){var e=i.config;e.config=t,i.updateConfig(e),i.$message({type:"success",message:"上传成功"})})).catch((function(e){i.$message({type:"error",message:"上传失败，报错："+e.response.data.msg})}))},openContest:function(e){var s=this;this.contestSelectorLoading=!0;var i={contest_id:e,is_open:!0};Object(r["t"])(i).then((function(){s.$message({type:"success",message:"更新成功！"}),s.axios.defaults.headers["ContestID"]=s.contestID,Object(r["g"])().then((function(e){var i=e.data;i.config=JSON.parse(i.config),s.updateConfig(i),s.updateDatetimes(),s.contestSelectorLoading=!1,s.mount()})).catch((function(){s.contestSelectorLoading=!1}))})).catch((function(){s.$message({type:"error",message:"更新失败，请联系管理员"}),s.contestSelectorLoading=!1}))},updateTimestamp:function(e){var s=this,i=this.config.config;switch(e){case 1:i.system.registryEndTimestamp=new Date(this.registryEndDatetime).getTime()/1e3;break;case 2:i.system.registryEndTimestamp=new Date(this.uploadBeginDatetime).getTime()/1e3;break;case 3:i.system.registryEndTimestamp=new Date(this.uploadEndDatetime).getTime()/1e3;break}var t={contest_id:this.contestID,config:JSON.stringify(i)};Object(r["t"])(t).then((function(){s.updateConfig(i),s.$message({type:"success",message:"更新成功"});var e=s.config;e.config=i,s.updateConfig(e)})).catch((function(e){s.$message({type:"error",message:"更新失败，报错："+e.response.data.msg})}))},updateMaxFileSize:function(){var e=this,s=this.config.config;s.uploadRes.maxFileSize=this.maxFileSize<<10*this.unit;var i={contest_id:this.contestID,config:JSON.stringify(s)};Object(r["t"])(i).then((function(){e.$message({type:"success",message:"更新成功"});var i=e.config;i.config=s,e.updateConfig(i)})).catch((function(s){e.$message({type:"error",message:"更新失败，报错："+s.response.data.msg})}))},updateMaxImageNum:function(){var e=this,s=this.config.config;s.uploadRes.maxImageNum=this.maxImageNum;var i={contest_id:this.contestID,config:JSON.stringify(s)};Object(r["t"])(i).then((function(){e.$message({type:"success",message:"更新成功"});var i=e.config;i.config=s,e.updateConfig(i)})).catch((function(s){e.$message({type:"error",message:"更新失败，报错："+s.response.data.msg})}))},updateContestName:function(e){var s={contest_id:this.contestID,contest_name:e};Object(r["t"])(s).then()}})},l=c,p=(i("e32c"),i("2877")),u=Object(p["a"])(l,t,n,!1,null,"78f87202",null);s["default"]=u.exports},e32c:function(e,s,i){"use strict";i("31c2")},fb6a:function(e,s,i){"use strict";var t=i("23e7"),n=i("861d"),a=i("e8b5"),o=i("23cb"),r=i("50c4"),c=i("fc6a"),l=i("8418"),p=i("b622"),u=i("1dde"),d=u("slice"),m=p("species"),g=[].slice,f=Math.max;t({target:"Array",proto:!0,forced:!d},{slice:function(e,s){var i,t,p,u=c(this),d=r(u.length),y=o(e,d),h=o(void 0===s?d:s,d);if(a(u)&&(i=u.constructor,"function"!=typeof i||i!==Array&&!a(i.prototype)?n(i)&&(i=i[m],null===i&&(i=void 0)):i=void 0,i===Array||void 0===i))return g.call(u,y,h);for(t=new(void 0===i?Array:i)(f(h-y,0)),p=0;y<h;y++,p++)y in u&&l(t,p,u[y]);return t.length=p,t}})}}]);
//# sourceMappingURL=chunk-4662afe6.11986a34.js.map